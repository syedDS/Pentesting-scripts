import requests
import sys
import requests
import socket
import json

#check if argumnet is less than 2
if len(sys.argv)<2:
    print("Usage:" +sys.argv[0]+"<curl>")
    sys.exit(1)

req=requests.get("https://"+sys.argv[1])
    
print("\n headers:-"+str(req.headers))

#using socket.gethostbyname and grabb hostname and ip address

getHost=socket.gethostbyname(sys.argv[1])
print("\nIp address of "+sys.argv[1]+"is:"+getHost+"\n")

#ipinfo.ip API function 

req_two=requests.get("https://ipinfo.io/"+getHost+"/json")
# use load function to load response

resp_=json.loads(req_two.text)

print("location:"+resp_["loc"])
print("Region:"+resp_["region"])
print("city"+resp_["city"])
print("country"+resp_["country"])

